{"ast":null,"code":"var _jsxFileName = \"C:\\\\appLaravelChallenge\\\\frontend\\\\src\\\\views\\\\menu\\\\Menu.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport { useNavigate } from 'react-router-dom';\nimport Filter from \"./filter/Filter\";\nimport Footer from \"./footer/Footer\";\nimport Header from \"./header/Header\";\nimport MainContainer from \"./main/MainContainer\";\nimport './styles/styles.css';\nimport { connectionData, endpoint } from \"../../connection/apiConnection\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Menu = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [keyWordFilter, setKeyWordFilter] = useState('');\n  const [dateFilter, setDateFilter] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('');\n  const [sourceFilter, setSourceFilter] = useState('');\n  const [settings, setSettings] = useState({});\n  const userString = localStorage.getItem('user');\n  const user = userString ? JSON.parse(userString) : null;\n  const userId = user === null || user === void 0 ? void 0 : user.id;\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchDataSettings();\n  }, []);\n  useEffect(() => {\n    setSettings({\n      \"user_id\": userId,\n      \"filter_keyword\": keyWordFilter,\n      \"filter_date\": dateFilter,\n      \"filter_category\": categoryFilter,\n      \"filter_source\": sourceFilter\n    });\n  }, [keyWordFilter, dateFilter, categoryFilter, sourceFilter]);\n  useEffect(() => {\n    if (userId) {\n      fetchDataNews();\n    } else {\n      navigate('/login');\n    }\n  }, [settings]);\n  const fetchDataNews = async () => {\n    try {\n      const result = await connectionData(endpoint, 'allnews', 'POST', {\n        ...settings\n      });\n      setData(result);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const fetchDataSettings = async () => {\n    try {\n      const result = await connectionData(endpoint, 'settings', 'POST', {\n        id: parseInt(userId)\n      });\n      if (result) {\n        setKeyWordFilter(result.filter_keyword || '');\n        setDateFilter(result.filter_date || '');\n        setCategoryFilter(result.filter_category || '');\n        setSourceFilter(result.filter_source || '');\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"menu-component vh-100 bg bg-dark d-flex flex-column justify-content-center align-items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row h-100 w-100 menu-component\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col h-100 w-100 d-flex flex-column justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          settings: settings,\n          keyWordFilter: keyWordFilter,\n          setKeyWordFilter: setKeyWordFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Filter, {\n          dateFilter: dateFilter,\n          categoryFilter: categoryFilter,\n          sourceFilter: sourceFilter,\n          setDateFilter: setDateFilter,\n          setCategoryFilter: setCategoryFilter,\n          setSourceFilter: setSourceFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MainContainer, {\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n_s(Menu, \"o/ojvOJcBgjcHVcsNthmw4pHh88=\", false, function () {\n  return [useNavigate];\n});\n_c = Menu;\nMenu.propTypes = {\n  data: PropTypes.array.isRequired,\n  keyWordFilter: PropTypes.string.isRequired,\n  dateFilter: PropTypes.string.isRequired,\n  categoryFilter: PropTypes.string.isRequired,\n  sourceFilter: PropTypes.string.isRequired,\n  settings: PropTypes.object.isRequired\n};\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useEffect","useState","PropTypes","useNavigate","Filter","Footer","Header","MainContainer","connectionData","endpoint","jsxDEV","_jsxDEV","Menu","_s","data","setData","keyWordFilter","setKeyWordFilter","dateFilter","setDateFilter","categoryFilter","setCategoryFilter","sourceFilter","setSourceFilter","settings","setSettings","userString","localStorage","getItem","user","JSON","parse","userId","id","navigate","fetchDataSettings","fetchDataNews","result","error","console","parseInt","filter_keyword","filter_date","filter_category","filter_source","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","propTypes","array","isRequired","string","object","$RefreshReg$"],"sources":["C:/appLaravelChallenge/frontend/src/views/menu/Menu.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { useNavigate } from 'react-router-dom'; \r\nimport Filter from \"./filter/Filter\";\r\nimport Footer from \"./footer/Footer\";\r\nimport Header from \"./header/Header\";\r\nimport MainContainer from \"./main/MainContainer\";\r\nimport './styles/styles.css';\r\nimport { connectionData, endpoint } from \"../../connection/apiConnection\";\r\n\r\nconst Menu = () => {\r\n    const [data, setData] = useState([]);\r\n    const [keyWordFilter, setKeyWordFilter] = useState('');\r\n    const [dateFilter, setDateFilter] = useState('');\r\n    const [categoryFilter, setCategoryFilter] = useState('');\r\n    const [sourceFilter, setSourceFilter] = useState('');\r\n    const [settings, setSettings] = useState({});\r\n    const userString = localStorage.getItem('user');\r\n    const user = userString ? JSON.parse(userString) : null;\r\n    const userId = user?.id;\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        fetchDataSettings();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setSettings({\r\n            \"user_id\": userId,\r\n            \"filter_keyword\": keyWordFilter,\r\n            \"filter_date\": dateFilter,\r\n            \"filter_category\": categoryFilter,\r\n            \"filter_source\": sourceFilter\r\n        });\r\n    }, [keyWordFilter, dateFilter, categoryFilter, sourceFilter]);\r\n\r\n    useEffect(() => {\r\n        if (userId) {\r\n            fetchDataNews();\r\n        } else {\r\n            navigate('/login');\r\n        }\r\n    }, [settings]);\r\n\r\n    const fetchDataNews = async () => {\r\n        try {\r\n            const result = await connectionData(endpoint, 'allnews', 'POST', { ...settings });\r\n            setData(result);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const fetchDataSettings = async () => {\r\n        try {\r\n            const result = await connectionData(endpoint, 'settings', 'POST', { id: parseInt(userId) });\r\n            if (result) {\r\n                setKeyWordFilter(result.filter_keyword || '');\r\n                setDateFilter(result.filter_date || '');\r\n                setCategoryFilter(result.filter_category || '');\r\n                setSourceFilter(result.filter_source || '');\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"menu-component vh-100 bg bg-dark d-flex flex-column justify-content-center align-items-center\">\r\n            <div className=\"row h-100 w-100 menu-component\">\r\n                <div className=\"col h-100 w-100 d-flex flex-column justify-content-center align-items-center\">\r\n                    <Header settings={settings} keyWordFilter={keyWordFilter} setKeyWordFilter={setKeyWordFilter} />\r\n                    <Filter dateFilter={dateFilter} categoryFilter={categoryFilter} sourceFilter={sourceFilter} setDateFilter={setDateFilter} setCategoryFilter={setCategoryFilter} setSourceFilter={setSourceFilter} />\r\n                    <MainContainer data={data} />\r\n                    <Footer />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nMenu.propTypes = {\r\n    data: PropTypes.array.isRequired,\r\n    keyWordFilter: PropTypes.string.isRequired,\r\n    dateFilter: PropTypes.string.isRequired,\r\n    categoryFilter: PropTypes.string.isRequired,\r\n    sourceFilter: PropTypes.string.isRequired,\r\n    settings: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default Menu;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}